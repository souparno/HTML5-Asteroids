/*
 * Stage.js 1.0.0
 * 
 * @copyright 2015 Ali Shakiba, Piqnt LLC
 * @license The MIT License
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.Stage=e()}}(function(){return function e(n,t,r){function i(u,a){if(!t[u]){if(!n[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[u]={exports:{}};n[u][0].call(l.exports,function(e){var t=n[u][1][e];return i(t?t:e)},l,l.exports,e,n,t,r)}return t[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,n,t){n.exports=e("../lib/")},{"../lib/":2}],2:[function(e,n,t){function r(e){return r.app(e)}var i=e("./util/extend"),o=e("./util/is"),u=!1,a={},c=[];r.config=function(){return 1===arguments.length&&o.string(arguments[0])?a[arguments[0]]:void(1===arguments.length&&o.object(arguments[0])&&i(a,arguments[0]))},r.app=function(e){if(!u)return void c.push(e);var n=r.config("app-loader");n(e)},r.start=function(){for(u=!0;c.length;){var e=c.shift();r.app(e)}},r.config({"app-loader":function(e){function n(){i?(o=window.innerWidth>0?window.innerWidth:screen.width,u=window.innerHeight>0?window.innerHeight:screen.height,t.style.width=o+"px",t.style.height=u+"px"):(o=t.clientWidth,u=t.clientHeight),o*=a,u*=a,(t.width!==o||t.height!==u)&&(t.width=o,t.height=u)}var t=null,r=null,i=!0,o=0,u=0,a=1;t=document.createElement("canvas"),t.style.position="absolute";var c=document.body;c.insertBefore(t,c.firstChild),r=t.getContext("2d");var f=window.devicePixelRatio||1,l=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;a=f/l,n(),window.addEventListener("resize",n,!1),window.addEventListener("orientationchange",n,!1),e(t,r)}}),window.addEventListener("load",function(){r.start()},!1),n.exports=r},{"./util/extend":3,"./util/is":4}],3:[function(e,n,t){n.exports=function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}return e}},{}],4:[function(e,n,t){var r=Object.prototype,i=r.hasOwnProperty,o=r.toString,u=/^[A-Fa-f0-9]+$/,a=n.exports={};a.a=a.an=a.type=function(e,n){return typeof e===n},a.defined=function(e){return"undefined"!=typeof e},a.empty=function(e){var n,t=o.call(e);if("[object Array]"===t||"[object Arguments]"===t||"[object String]"===t)return 0===e.length;if("[object Object]"===t){for(n in e)if(i.call(e,n))return!1;return!0}return!e},a.equal=function(e,n){if(e===n)return!0;var t,r=o.call(e);if(r!==o.call(n))return!1;if("[object Object]"===r){for(t in e)if(!(a.equal(e[t],n[t])&&t in n))return!1;for(t in n)if(!(a.equal(e[t],n[t])&&t in e))return!1;return!0}if("[object Array]"===r){if(t=e.length,t!==n.length)return!1;for(;--t;)if(!a.equal(e[t],n[t]))return!1;return!0}return"[object Function]"===r?e.prototype===n.prototype:"[object Date]"===r?e.getTime()===n.getTime():!1},a.instance=function(e,n){return e instanceof n},a.nil=function(e){return null===e},a.undef=function(e){return"undefined"==typeof e},a.array=function(e){return"[object Array]"===o.call(e)},a.emptyarray=function(e){return a.array(e)&&0===e.length},a.arraylike=function(e){return!!e&&!a["boolean"](e)&&i.call(e,"length")&&isFinite(e.length)&&a.number(e.length)&&e.length>=0},a["boolean"]=function(e){return"[object Boolean]"===o.call(e)},a.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},a.fn=function(e){return"[object Function]"===o.call(e)},a.number=function(e){return"[object Number]"===o.call(e)},a.nan=function(e){return!a.number(e)||e!==e},a.object=function(e){return"[object Object]"===o.call(e)},a.hash=function(e){return a.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},a.regexp=function(e){return"[object RegExp]"===o.call(e)},a.string=function(e){return"[object String]"===o.call(e)},a.hex=function(e){return a.string(e)&&(!e.length||u.test(e))}},{}]},{},[1])(1)});